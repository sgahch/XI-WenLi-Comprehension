# 大学生综合考评管理系统 - 项目差距分析与改造任务清单

## 📋 文档概述

**生成时间**: 2025-11-02  
**分析范围**: 对比项目需求文档与当前实现情况  
**分析结论**: 当前项目在核心功能实现上存在较大差距，需要进行系统性改造

---

## 🎯 核心差距总结

### 严重程度分级
- 🔴 **P0 - 严重缺失**: 核心功能完全缺失，严重影响系统可用性
- 🟠 **P1 - 重要缺失**: 重要功能缺失或不完整，影响用户体验
- 🟡 **P2 - 一般缺失**: 功能存在但需优化，影响系统完整性
- 🟢 **P3 - 轻微缺失**: 细节优化，不影响核心功能

---

## 一、用户角色与权限管理差距

### 🔴 P0 - 班委角色功能严重缺失

**需求描述**:
- 班委需要对本班学生提交的加分材料进行真实性校验
- 班委需要自动统计班级数据并生成班级考评数据表
- 班委需要实时查看本班学生材料提交进度并发送提醒

**当前状态**:
- ✅ 已有班委角色定义（角色ID: 101）
- ❌ 缺少班委专属审核页面和功能模块
- ❌ 缺少班级数据统计和汇总功能
- ❌ 缺少学生提交进度监控和提醒功能
- ❌ 缺少证书真实性校验工具

**影响**:
- 班委无法完成初审工作
- 审核流程中断，无法流转到辅导员
- 班级数据需要手动汇总，失去系统化管理优势

### 🟠 P1 - 辅导员角色功能不完整

**需求描述**:
- 辅导员需要对班委提交的班级考评数据进行系统性核验
- 辅导员需要设置公示期并导出公示名单
- 辅导员需要接收学生申诉并进行复核

**当前状态**:
- ✅ 已有辅导员审核接口（`/evaluation/submission/audit`）
- ✅ 已有申诉管理基础表结构（`t_appeal`）
- ❌ 缺少数据异常检测和高亮显示功能
- ❌ 缺少公示期设置和公示名单生成功能
- ❌ 缺少申诉与原始材料、审核记录的自动关联
- ❌ 缺少申诉处理后的结果同步机制

### 🟡 P2 - 学院数据隔离不完善

**需求描述**:
- 学院管理员仅可见本院系规则配置页面
- 辅导员仅查看本院系数据

**当前状态**:
- ✅ 已有数据权限注解（`@DataScope`）
- ⚠️ 数据隔离逻辑存在但需要验证完整性
- ❌ 缺少学院级别的规则自定义功能

---

## 二、考评规则管理差距

### 🔴 P0 - 学院规则自定义功能缺失

**需求描述**:
- 各学院可独立设置指标权重（如文学院社会实践40%，理工学院科研创新50%）
- 管理员可以增删考评维度、调整维度权重
- 权重调整后系统自动同步至所有用户的指标展示页面

**当前状态**:
- ✅ 已有基础规则表（`t_evaluation_rule`）
- ✅ 已有新的规则表（`evaluation_rule`）支持维度化管理
- ❌ 缺少学院级别的规则配置界面
- ❌ 缺少权重动态调整功能
- ❌ 缺少权重总和自动校验（必须为100%）
- ❌ 规则变更后缺少自动同步机制

**影响**:
- 无法满足不同学院的差异化考评需求
- 规则管理缺乏灵活性

### 🟠 P1 - 考评指标体系展示不完整

**需求描述**:
- 学生登录后可查看当前学期的考评指标体系及评分标准
- 系统以可视化图表展示各维度及对应评分标准

**当前状态**:
- ✅ 已有规则树接口（`/evaluation/rule/tree`）
- ❌ 前端缺少可视化图表展示
- ❌ 缺少学生端的指标体系查看页面

---

## 三、材料提交与审核流程差距

### 🔴 P0 - 班委初审功能完全缺失

**需求描述**:
- 班委-辅导员两级审核流程
- 班委初审通过后自动推送至辅导员
- 终审结果实时同步至学生端

**当前状态**:
- ✅ 已有审核状态定义（0-草稿，1-待班委审核，2-待辅导员审核，3-已通过，4-已驳回）
- ✅ 已有审核接口（`/evaluation/submission/audit`）
- ❌ 缺少班委审核页面和功能入口
- ❌ 缺少审核流程自动流转逻辑
- ❌ 审核状态变更后缺少实时通知机制

**影响**:
- 两级审核流程无法实现
- 审核流程中断，系统核心功能无法使用

### 🟠 P1 - 材料提交功能不完整

**需求描述**:
- 支持PDF/JPG格式上传，单个文件大小限制为10MB
- 上传过程中实时显示进度条
- 提交后显示"待审核"状态
- 截止日期前可修改

**当前状态**:
- ✅ 已有文件上传组件（`FileUpload`）
- ✅ 已有材料提交页面（`evaluation-submit/submission`）
- ⚠️ 文件大小限制需要验证
- ❌ 缺少上传进度条显示
- ❌ 缺少截止日期控制逻辑
- ❌ 缺少草稿保存和修改功能的完整实现

### 🟡 P2 - 审核历史和进度追踪不完善

**需求描述**:
- 学生可实时查看审核进度
- 辅导员可在"审核历史"页面查看所有经手任务的当前进度及流转记录

**当前状态**:
- ✅ 已有审核日志表（`evaluation_audit_log`）
- ❌ 缺少学生端的进度查看页面
- ❌ 缺少辅导员的审核历史页面
- ❌ 缺少流转记录的可视化展示

---

## 四、考评结果管理差距

### 🔴 P0 - 考评结果公示功能缺失

**需求描述**:
- 支持设置公示期（默认5个工作日）
- 公示名单可导出Excel
- 学生端实时查看公示结果

**当前状态**:
- ✅ 已有成绩总表（`t_student_total_score`）
- ❌ 完全缺少公示功能模块
- ❌ 缺少公示期设置功能
- ❌ 缺少公示名单生成和导出功能
- ❌ 缺少学生端的公示结果查看页面

**影响**:
- 无法满足考评结果公开透明的管理要求
- 缺少必要的公示流程

### 🟠 P1 - 申诉处理功能不完整

**需求描述**:
- 学生提交申诉后，系统自动关联原始材料与审核记录
- 辅导员处理后结果同步至学生端
- 申诉处理时限为7天

**当前状态**:
- ✅ 已有申诉表（`t_appeal`）
- ✅ 已有申诉管理页面（`evaluation/t_appeal`）
- ❌ 缺少申诉与原始材料的自动关联
- ❌ 缺少申诉处理时限控制
- ❌ 缺少处理结果的自动同步机制
- ❌ 学生端缺少申诉提交和进度查询页面

---

## 五、系统通知与消息推送差距

### 🔴 P0 - 审核状态实时通知功能缺失

**需求描述**:
- 学生提交后、班委审核后、辅导员终审后，相关用户收到短信/系统内消息提醒
- 系统通过三级状态通知确保全流程透明化

**当前状态**:
- ✅ 已有通知公告表（`sys_notice`）
- ✅ 已有通知公告管理功能
- ❌ 完全缺少审核状态变更的自动通知机制
- ❌ 缺少站内信/消息中心功能
- ❌ 缺少短信/邮件通知集成
- ❌ 缺少待办事项提醒功能

**影响**:
- 用户无法及时获知审核状态变更
- 审核流程缺乏透明度
- 用户体验差

### 🟠 P1 - 待办事项中心缺失

**需求描述**:
- 首页作为系统总览与待办事项中心
- 辅导员通过首页待办事项列表（标红数字提示未处理数量）接收审核任务

**当前状态**:
- ✅ 已有首页（`views/index.vue`）
- ❌ 首页缺少待办事项列表
- ❌ 缺少未处理数量的红点提示
- ❌ 缺少待办任务的分类和优先级

---

## 六、数据统计与分析差距

### 🟡 P2 - 班级数据统计功能不完整

**需求描述**:
- 班委需要自动统计班级学业成绩达标率、社会实践参与率等指标
- 系统自动生成班级数据表

**当前状态**:
- ✅ 已有统计接口（`/evaluation/statistics`）
- ✅ 已有成绩趋势分析功能
- ❌ 缺少班级维度的统计功能
- ❌ 缺少达标率、参与率等关键指标计算
- ❌ 缺少班级数据表的自动生成

### 🟡 P2 - 数据可视化不完善

**需求描述**:
- 系统以可视化图表展示学业成绩、社会实践等维度及对应评分标准
- 数据仪表板展示全局数据概览和关键指标监控

**当前状态**:
- ✅ 已集成ECharts
- ✅ 已有成绩趋势图组件（`ScoreTrendChart`）
- ❌ 缺少维度分布饼图
- ❌ 缺少班级对比柱状图
- ❌ 缺少全局数据仪表板

---

## 七、系统配置与管理差距

### 🟠 P1 - 全局配置功能缺失

**需求描述**:
- 管理员可配置考评周期、材料提交截止时间、申诉处理时限
- 管理员可配置审核节点和审核时限
- 管理员可配置通知规则

**当前状态**:
- ✅ 已有系统配置表（`sys_config`）
- ❌ 缺少考评周期配置界面
- ❌ 缺少截止时间配置功能
- ❌ 缺少审核节点和时限配置
- ❌ 缺少通知规则配置

### 🟡 P2 - 批量操作功能不完整

**需求描述**:
- 管理员可批量导入学生信息
- 管理员可批量分配角色
- 班委可批量提醒未提交学生

**当前状态**:
- ✅ 已有Excel导入导出功能
- ⚠️ 批量导入功能存在但需要验证
- ❌ 缺少批量角色分配功能
- ❌ 缺少批量提醒功能

---

## 八、前端页面与交互差距

### 🟠 P1 - 学生端页面不完整

**需求描述**:
- 首页：系统总览、待办事项提醒
- 考评中心：当前考评、历史记录、申诉管理
- 个人中心：基本信息维护、系统偏好设置

**当前状态**:
- ✅ 已有材料提交页面
- ✅ 已有成绩查询页面
- ❌ 缺少学生专属首页
- ❌ 缺少待办事项提醒
- ❌ 缺少历史记录页面
- ❌ 缺少申诉提交页面

### 🟠 P1 - 班委端页面完全缺失

**需求描述**:
- 班级审核模块
- 班级数据统计模块
- 进度管理模块

**当前状态**:
- ❌ 完全缺少班委专属页面
- ❌ 缺少班级审核界面
- ❌ 缺少班级统计界面

### 🟡 P2 - 辅导员端页面不完整

**需求描述**:
- 数据核验功能
- 公示管理功能
- 申诉处理功能

**当前状态**:
- ✅ 已有审核页面（`evaluation-submit/audit`）
- ❌ 缺少数据核验界面
- ❌ 缺少公示管理界面
- ❌ 缺少申诉处理界面

---

## 📊 差距统计

| 严重程度 | 数量 | 占比 |
|---------|------|------|
| 🔴 P0 严重缺失 | 6 | 30% |
| 🟠 P1 重要缺失 | 8 | 40% |
| 🟡 P2 一般缺失 | 5 | 25% |
| 🟢 P3 轻微缺失 | 1 | 5% |
| **总计** | **20** | **100%** |

---

## 🚀 详细改造任务清单

### 任务分类说明
- **后端任务**: 涉及Controller、Service、Mapper、数据库等
- **前端任务**: 涉及Vue组件、页面、路由、API调用等
- **全栈任务**: 需要前后端协同完成

---

## 阶段一：核心审核流程修复（P0优先级）

### 任务1.1：实现班委审核功能 🔴

**优先级**: P0
**预计工时**: 5天
**任务类型**: 全栈

#### 后端任务
1. **创建班委审核Service**
   - 文件：`ruoyi-system/src/main/java/com/ruoyi/system/service/IClassCommitteeAuditService.java`
   - 功能：
     - 获取本班待审核列表
     - 执行班委审核（通过/驳回）
     - 审核通过后自动流转到辅导员
     - 记录审核日志

2. **创建班委审核Controller**
   - 文件：`ruoyi-admin/src/main/java/com/ruoyi/web/controller/evaluation/ClassCommitteeAuditController.java`
   - 接口：
     - `GET /evaluation/classCommittee/audit/list` - 获取待审核列表
     - `POST /evaluation/classCommittee/audit` - 执行审核
     - `POST /evaluation/classCommittee/audit/batch` - 批量审核
     - `GET /evaluation/classCommittee/statistics` - 班级统计数据

3. **完善审核流转逻辑**
   - 修改：`EvaluationSubmissionServiceImpl.auditSubmission()`
   - 逻辑：
     - 班委审核通过：status 1 → 2（待辅导员审核）
     - 班委驳回：status 1 → 4（已驳回）
     - 辅导员审核通过：status 2 → 3（已通过）
     - 辅导员驳回：status 2 → 4（已驳回）

4. **添加权限控制**
   - 修改：`evaluation_permissions.sql`
   - 权限：
     - `evaluation:classCommittee:audit` - 班委审核权限
     - `evaluation:classCommittee:statistics` - 班级统计权限

#### 前端任务
1. **创建班委审核页面**
   - 文件：`ruoyi-ui/src/views/evaluation-submit/classCommittee/index.vue`
   - 功能：
     - 待审核列表（表格展示）
     - 筛选条件（学生姓名、提交时间）
     - 单个审核（通过/驳回按钮）
     - 批量审核
     - 查看详情（弹窗）

2. **创建班级统计页面**
   - 文件：`ruoyi-ui/src/views/evaluation-submit/classCommittee/statistics.vue`
   - 功能：
     - 班级提交进度统计
     - 各维度得分分布
     - 未提交学生列表
     - 导出班级数据表

3. **添加路由和菜单**
   - 修改：`ruoyi-ui/src/router/index.js`
   - 路由：
     - `/evaluation/classCommittee/audit` - 班委审核
     - `/evaluation/classCommittee/statistics` - 班级统计

4. **创建API接口**
   - 文件：`ruoyi-ui/src/api/evaluation/classCommittee.js`
   - 接口：
     - `getAuditList()` - 获取待审核列表
     - `auditSubmission()` - 执行审核
     - `batchAudit()` - 批量审核
     - `getClassStatistics()` - 获取班级统计

#### 数据库任务
1. **添加班委角色权限**
   ```sql
   -- 插入班委审核菜单
   INSERT INTO sys_menu (menu_name, parent_id, order_num, path, component, perms, menu_type, visible, status)
   VALUES ('班委审核', 2100, 2, 'classCommittee', 'evaluation-submit/classCommittee/index', 'evaluation:classCommittee:audit', 'C', '0', '0');
   ```

#### 验收标准
- [ ] 班委可以查看本班待审核列表
- [ ] 班委可以审核通过/驳回学生提交
- [ ] 审核通过后自动流转到辅导员
- [ ] 审核日志完整记录
- [ ] 班级统计数据准确

---

### 任务1.2：实现考评结果公示功能 🔴

**优先级**: P0
**预计工时**: 4天
**任务类型**: 全栈

#### 后端任务
1. **创建公示管理Service**
   - 文件：`ruoyi-system/src/main/java/com/ruoyi/system/service/IPublicityService.java`
   - 功能：
     - 创建公示（设置公示期）
     - 获取公示列表
     - 导出公示名单
     - 结束公示

2. **创建公示表**
   ```sql
   CREATE TABLE `t_publicity` (
     `id` bigint NOT NULL AUTO_INCREMENT COMMENT '公示ID',
     `academic_year` varchar(32) NOT NULL COMMENT '学年',
     `semester` tinyint NOT NULL COMMENT '学期',
     `class_id` bigint DEFAULT NULL COMMENT '班级ID（NULL表示全校）',
     `title` varchar(255) NOT NULL COMMENT '公示标题',
     `start_time` datetime NOT NULL COMMENT '公示开始时间',
     `end_time` datetime NOT NULL COMMENT '公示结束时间',
     `status` tinyint DEFAULT 0 COMMENT '状态：0-进行中，1-已结束',
     `create_by` varchar(64) DEFAULT NULL,
     `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
     PRIMARY KEY (`id`)
   ) COMMENT='考评结果公示表';
   ```

3. **创建公示Controller**
   - 文件：`ruoyi-admin/src/main/java/com/ruoyi/web/controller/evaluation/PublicityController.java`
   - 接口：
     - `POST /evaluation/publicity` - 创建公示
     - `GET /evaluation/publicity/list` - 获取公示列表
     - `GET /evaluation/publicity/{id}` - 获取公示详情
     - `POST /evaluation/publicity/export` - 导出公示名单
     - `PUT /evaluation/publicity/{id}/end` - 结束公示

#### 前端任务
1. **创建公示管理页面（辅导员端）**
   - 文件：`ruoyi-ui/src/views/evaluation-submit/publicity/index.vue`
   - 功能：
     - 创建公示（设置公示期）
     - 公示列表
     - 导出公示名单
     - 结束公示

2. **创建公示查看页面（学生端）**
   - 文件：`ruoyi-ui/src/views/evaluation-submit/publicity/view.vue`
   - 功能：
     - 查看当前公示
     - 查看个人排名
     - 查看班级排名

3. **添加API接口**
   - 文件：`ruoyi-ui/src/api/evaluation/publicity.js`

#### 验收标准
- [ ] 辅导员可以创建公示并设置公示期
- [ ] 公示名单可以导出Excel
- [ ] 学生可以查看公示结果
- [ ] 公示期结束后自动更新状态

---

### 任务1.3：实现审核状态实时通知 🔴

**优先级**: P0
**预计工时**: 6天
**任务类型**: 全栈

#### 后端任务
1. **创建通知Service**
   - 文件：`ruoyi-system/src/main/java/com/ruoyi/system/service/INotificationService.java`
   - 功能：
     - 发送站内信
     - 发送待办提醒
     - 获取用户通知列表
     - 标记通知已读

2. **创建通知表**
   ```sql
   CREATE TABLE `sys_notification` (
     `id` bigint NOT NULL AUTO_INCREMENT COMMENT '通知ID',
     `user_id` bigint NOT NULL COMMENT '接收用户ID',
     `title` varchar(255) NOT NULL COMMENT '通知标题',
     `content` text COMMENT '通知内容',
     `type` varchar(32) NOT NULL COMMENT '通知类型：AUDIT_PASS,AUDIT_REJECT,SUBMIT_SUCCESS',
     `related_id` bigint DEFAULT NULL COMMENT '关联业务ID',
     `is_read` tinyint DEFAULT 0 COMMENT '是否已读：0-未读，1-已读',
     `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
     PRIMARY KEY (`id`),
     KEY `idx_user_id` (`user_id`),
     KEY `idx_is_read` (`is_read`)
   ) COMMENT='系统通知表';
   ```

3. **在审核流程中集成通知**
   - 修改：`EvaluationSubmissionServiceImpl.auditSubmission()`
   - 逻辑：
     - 学生提交后 → 通知班委
     - 班委审核后 → 通知学生和辅导员
     - 辅导员审核后 → 通知学生

4. **创建通知Controller**
   - 文件：`ruoyi-admin/src/main/java/com/ruoyi/web/controller/system/NotificationController.java`
   - 接口：
     - `GET /system/notification/list` - 获取通知列表
     - `GET /system/notification/unread/count` - 获取未读数量
     - `PUT /system/notification/{id}/read` - 标记已读
     - `PUT /system/notification/readAll` - 全部标记已读

#### 前端任务
1. **创建通知中心组件**
   - 文件：`ruoyi-ui/src/components/NotificationCenter/index.vue`
   - 功能：
     - 顶部通知图标（显示未读数量红点）
     - 下拉通知列表
     - 标记已读
     - 跳转到相关业务

2. **集成到顶部导航栏**
   - 修改：`ruoyi-ui/src/layout/components/Navbar.vue`
   - 添加通知图标

3. **创建待办事项组件**
   - 文件：`ruoyi-ui/src/components/TodoList/index.vue`
   - 功能：
     - 待审核任务列表
     - 待处理申诉列表
     - 即将截止提醒

4. **集成到首页**
   - 修改：`ruoyi-ui/src/views/index.vue`
   - 添加待办事项卡片

5. **添加API接口**
   - 文件：`ruoyi-ui/src/api/system/notification.js`

#### 验收标准
- [ ] 审核状态变更后自动发送通知
- [ ] 顶部导航栏显示未读通知数量
- [ ] 用户可以查看通知列表
- [ ] 首页显示待办事项
- [ ] 通知可以跳转到相关业务

---

## 阶段二：规则管理与配置（P1优先级）

### 任务2.1：实现学院规则自定义功能 🟠

**优先级**: P1
**预计工时**: 5天
**任务类型**: 全栈

#### 后端任务
1. **完善规则管理Service**
   - 修改：`ruoyi-system/src/main/java/com/ruoyi/system/service/IEvaluationRuleService.java`
   - 功能：
     - 按学院查询规则
     - 创建学院规则
     - 更新学院规则
     - 权重总和校验

2. **实现规则树接口**
   - 修改：`ruoyi-system/src/main/java/com/ruoyi/evaluation/controller/EvaluationRuleController.java`
   - 当前状态：返回模拟数据
   - 改造：连接真实数据库

3. **添加权重校验逻辑**
   ```java
   // 校验权重总和是否为100%
   public boolean validateWeightSum(List<RuleItem> items) {
       BigDecimal sum = items.stream()
           .map(RuleItem::getWeight)
           .reduce(BigDecimal.ZERO, BigDecimal::add);
       return sum.compareTo(new BigDecimal("100")) == 0;
   }
   ```

#### 前端任务
1. **创建学院规则配置页面**
   - 文件：`ruoyi-ui/src/views/evaluation/collegeRule/index.vue`
   - 功能：
     - 规则列表（按学院分组）
     - 添加/编辑规则
     - 设置维度权重（拖拽调整）
     - 权重总和实时校验
     - 启用/禁用规则

2. **创建权重配置组件**
   - 文件：`ruoyi-ui/src/components/WeightConfig/index.vue`
   - 功能：
     - 滑块调整权重
     - 实时显示权重总和
     - 自动校验（总和必须为100%）

3. **添加API接口**
   - 文件：`ruoyi-ui/src/api/evaluation/collegeRule.js`

#### 验收标准
- [ ] 学院管理员可以配置本学院规则
- [ ] 权重总和自动校验为100%
- [ ] 规则变更后自动同步到学生端
- [ ] 历史数据不受规则变更影响（规则快照）

---

### 任务2.2：完善申诉处理功能 🟠

**优先级**: P1
**预计工时**: 4天
**任务类型**: 全栈

#### 后端任务
1. **完善申诉Service**
   - 修改：`ruoyi-system/src/main/java/com/ruoyi/system/service/ITAppealService.java`
   - 功能：
     - 创建申诉时自动关联原始材料
     - 申诉处理后自动更新成绩
     - 申诉时限控制（7天）

2. **添加申诉关联逻辑**
   ```java
   // 创建申诉时自动关联
   public int createAppeal(TAppeal appeal) {
       // 查询原始提交记录
       EvaluationSubmission submission = submissionService.selectById(appeal.getRecordId());
       // 关联审核记录
       List<EvaluationAuditLog> auditLogs = auditLogService.selectBySubmissionId(appeal.getRecordId());
       // 保存关联信息到申诉记录
       appeal.setRelatedData(buildRelatedData(submission, auditLogs));
       return appealMapper.insertTAppeal(appeal);
   }
   ```

#### 前端任务
1. **创建学生申诉提交页面**
   - 文件：`ruoyi-ui/src/views/evaluation-submit/appeal/submit.vue`
   - 功能：
     - 选择要申诉的记录
     - 填写申诉理由
     - 上传佐证材料
     - 查看申诉进度

2. **创建辅导员申诉处理页面**
   - 文件：`ruoyi-ui/src/views/evaluation-submit/appeal/handle.vue`
   - 功能：
     - 申诉列表
     - 查看申诉详情（自动显示原始材料和审核记录）
     - 同意/拒绝申诉
     - 填写处理结果

3. **添加API接口**
   - 文件：`ruoyi-ui/src/api/evaluation/appeal.js`

#### 验收标准
- [ ] 学生可以提交申诉
- [ ] 申诉自动关联原始材料和审核记录
- [ ] 辅导员可以查看完整的申诉信息
- [ ] 申诉处理后结果自动同步到学生端
- [ ] 超过7天未处理的申诉自动提醒

---

## 阶段三：数据统计与可视化（P2优先级）

### 任务3.1：实现班级数据统计功能 🟡

**优先级**: P2
**预计工时**: 3天
**任务类型**: 全栈

#### 后端任务
1. **创建班级统计Service**
   - 文件：`ruoyi-system/src/main/java/com/ruoyi/system/service/IClassStatisticsService.java`
   - 功能：
     - 计算班级学业成绩达标率
     - 计算社会实践参与率
     - 生成班级数据表

2. **添加统计接口**
   - 修改：`EvaluationStatisticsController.java`
   - 接口：
     - `GET /evaluation/statistics/class/{classId}` - 班级统计
     - `GET /evaluation/statistics/class/{classId}/export` - 导出班级数据表

#### 前端任务
1. **创建班级统计页面**
   - 文件：`ruoyi-ui/src/views/evaluation-submit/classCommittee/statistics.vue`
   - 功能：
     - 关键指标卡片（达标率、参与率）
     - 维度分布饼图
     - 学生排名表格
     - 导出功能

#### 验收标准
- [ ] 班委可以查看班级统计数据
- [ ] 统计数据准确
- [ ] 可以导出班级数据表

---

### 任务3.2：完善数据可视化 🟡

**优先级**: P2
**预计工时**: 4天
**任务类型**: 前端

#### 前端任务
1. **创建全局数据仪表板**
   - 文件：`ruoyi-ui/src/views/evaluation/dashboard/index.vue`
   - 功能：
     - 全校考评进度
     - 各学院对比
     - 维度分布
     - 异常数据预警

2. **创建学生个人仪表板**
   - 文件：`ruoyi-ui/src/views/evaluation-submit/student/dashboard.vue`
   - 功能：
     - 个人成绩雷达图
     - 历史趋势折线图
     - 排名变化
     - 维度对比

3. **优化现有图表组件**
   - 修改：`ScoreTrendChart.vue`
   - 优化：
     - 添加数据标签
     - 优化颜色方案
     - 添加交互提示

#### 验收标准
- [ ] 管理员可以查看全局数据仪表板
- [ ] 学生可以查看个人仪表板
- [ ] 图表美观、交互流畅

---

## 阶段四：系统配置与优化（P2-P3优先级）

### 任务4.1：实现全局配置功能 🟡

**优先级**: P2
**预计工时**: 3天
**任务类型**: 全栈

#### 后端任务
1. **添加系统配置项**
   ```sql
   INSERT INTO sys_config (config_name, config_key, config_value, config_type, remark)
   VALUES
   ('考评周期开始时间', 'evaluation.period.start', '2025-09-01', 'Y', '考评周期开始时间'),
   ('考评周期结束时间', 'evaluation.period.end', '2026-01-15', 'Y', '考评周期结束时间'),
   ('材料提交截止时间', 'evaluation.submit.deadline', '2025-12-20 17:00:00', 'Y', '材料提交截止时间'),
   ('申诉处理时限（天）', 'evaluation.appeal.deadline', '7', 'Y', '申诉处理时限');
   ```

2. **创建配置管理Service**
   - 使用现有的`ISysConfigService`
   - 添加配置校验逻辑

#### 前端任务
1. **创建考评配置页面**
   - 文件：`ruoyi-ui/src/views/evaluation/config/index.vue`
   - 功能：
     - 考评周期设置
     - 截止时间设置
     - 审核时限设置
     - 通知规则配置

#### 验收标准
- [ ] 管理员可以配置考评周期
- [ ] 配置项生效
- [ ] 配置变更有日志记录

---

### 任务4.2：实现批量操作功能 🟡

**优先级**: P2
**预计工时**: 2天
**任务类型**: 全栈

#### 后端任务
1. **添加批量提醒接口**
   - 文件：`ClassCommitteeAuditController.java`
   - 接口：`POST /evaluation/classCommittee/remind/batch`

#### 前端任务
1. **添加批量提醒功能**
   - 修改：`classCommittee/statistics.vue`
   - 功能：
     - 选择未提交学生
     - 批量发送提醒

#### 验收标准
- [ ] 班委可以批量提醒未提交学生
- [ ] 学生收到提醒通知

---

## 📅 实施计划

### 第一周（5个工作日）
- 任务1.1：实现班委审核功能（5天）

### 第二周（5个工作日）
- 任务1.2：实现考评结果公示功能（4天）
- 任务2.1：实现学院规则自定义功能（开始，1天）

### 第三周（5个工作日）
- 任务2.1：实现学院规则自定义功能（完成，4天）
- 任务1.3：实现审核状态实时通知（开始，1天）

### 第四周（5个工作日）
- 任务1.3：实现审核状态实时通知（完成，5天）

### 第五周（5个工作日）
- 任务2.2：完善申诉处理功能（4天）
- 任务3.1：实现班级数据统计功能（开始，1天）

### 第六周（5个工作日）
- 任务3.1：实现班级数据统计功能（完成，2天）
- 任务3.2：完善数据可视化（3天）

### 第七周（5个工作日）
- 任务3.2：完善数据可视化（完成，1天）
- 任务4.1：实现全局配置功能（3天）
- 任务4.2：实现批量操作功能（1天）

### 第八周（5个工作日）
- 任务4.2：实现批量操作功能（完成，1天）
- 系统测试与Bug修复（4天）

**总计**: 约8周（40个工作日）

---

## 🎯 关键里程碑

1. **里程碑1（第1周结束）**: 班委审核功能上线
   - 班委可以审核学生提交
   - 审核流程可以流转

2. **里程碑2（第2周结束）**: 公示功能上线
   - 辅导员可以创建公示
   - 学生可以查看公示结果

3. **里程碑3（第4周结束）**: 通知系统上线
   - 审核状态变更自动通知
   - 待办事项提醒

4. **里程碑4（第5周结束）**: 申诉功能完善
   - 学生可以提交申诉
   - 辅导员可以处理申诉

5. **里程碑5（第7周结束）**: 统计分析功能完善
   - 班级统计
   - 数据可视化

6. **里程碑6（第8周结束）**: 系统整体验收
   - 所有核心功能完成
   - 测试通过

---

## 📝 注意事项

### 开发规范
1. **代码规范**
   - 遵循若依框架的代码规范
   - 统一使用`t_`前缀命名业务表
   - 统一使用`BIGINT`作为主键类型

2. **接口规范**
   - RESTful API设计
   - 统一返回格式（`AjaxResult`）
   - 统一异常处理

3. **权限控制**
   - 所有接口必须添加权限注解（`@PreAuthorize`）
   - 数据权限使用`@DataScope`注解
   - 前端路由添加权限控制

4. **日志记录**
   - 关键操作添加操作日志（`@Log`注解）
   - 审核操作记录到审核日志表
   - 异常日志完整记录

### 测试要求
1. **单元测试**
   - Service层方法必须有单元测试
   - 测试覆盖率 > 80%

2. **集成测试**
   - 审核流程端到端测试
   - 通知发送测试
   - 权限控制测试

3. **性能测试**
   - 并发审核测试（500用户）
   - 大数据量统计测试（10000+学生）
   - 页面加载时间 < 3秒

### 数据安全
1. **数据备份**
   - 每日自动备份数据库
   - 重要操作前手动备份

2. **数据隔离**
   - 学院数据严格隔离
   - 学生只能查看自己的数据

3. **操作审计**
   - 所有数据修改操作记录日志
   - 日志保留90天

---

## 📊 风险评估

| 风险项 | 严重程度 | 可能性 | 应对措施 |
|--------|---------|--------|---------|
| 审核流程逻辑复杂，开发周期延长 | 高 | 中 | 提前进行详细设计，分阶段实施 |
| 通知系统性能问题 | 中 | 中 | 使用消息队列异步处理 |
| 数据迁移风险 | 高 | 低 | 充分测试，准备回滚方案 |
| 权限控制遗漏 | 高 | 低 | 代码审查，安全测试 |
| 前后端联调问题 | 中 | 高 | 提前定义接口规范，Mock数据 |

---

## 🔗 相关文档

- [项目需求文档](./项目需求文档.md)
- [API设计文档](./API设计文档.md)
- [数据库重构完成报告](./数据库重构完成报告.md)
- [用户操作指南](./用户操作指南.md)
- [班委管理操作指南](./班委管理操作指南.md)

---

## 📞 联系方式

如有问题，请联系项目负责人。

**文档版本**: v1.0
**最后更新**: 2025-11-02

